<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Source: reference.ml (odoc.source.src.model)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/></head><body class="odoc-src"><nav class="odoc-nav"><a href="index.html">Up</a> â€“ <a href="../../../index.html">odoc</a> &#x00BB; <a href="../../index.html">source</a> &#x00BB; <a href="../index.html">src</a> &#x00BB; <a href="index.html">model</a> &#x00BB; reference.ml</nav><header class="odoc-preamble"><h1>Source file <code><span>reference.ml</span></code></h1></header><pre class="source_container"><code class="source_line_column"><a id="L1" class="source_line" href="#L1">1</a>
<a id="L2" class="source_line" href="#L2">2</a>
<a id="L3" class="source_line" href="#L3">3</a>
<a id="L4" class="source_line" href="#L4">4</a>
<a id="L5" class="source_line" href="#L5">5</a>
<a id="L6" class="source_line" href="#L6">6</a>
<a id="L7" class="source_line" href="#L7">7</a>
<a id="L8" class="source_line" href="#L8">8</a>
<a id="L9" class="source_line" href="#L9">9</a>
<a id="L10" class="source_line" href="#L10">10</a>
<a id="L11" class="source_line" href="#L11">11</a>
<a id="L12" class="source_line" href="#L12">12</a>
<a id="L13" class="source_line" href="#L13">13</a>
<a id="L14" class="source_line" href="#L14">14</a>
<a id="L15" class="source_line" href="#L15">15</a>
<a id="L16" class="source_line" href="#L16">16</a>
<a id="L17" class="source_line" href="#L17">17</a>
<a id="L18" class="source_line" href="#L18">18</a>
<a id="L19" class="source_line" href="#L19">19</a>
<a id="L20" class="source_line" href="#L20">20</a>
<a id="L21" class="source_line" href="#L21">21</a>
<a id="L22" class="source_line" href="#L22">22</a>
<a id="L23" class="source_line" href="#L23">23</a>
<a id="L24" class="source_line" href="#L24">24</a>
<a id="L25" class="source_line" href="#L25">25</a>
<a id="L26" class="source_line" href="#L26">26</a>
<a id="L27" class="source_line" href="#L27">27</a>
<a id="L28" class="source_line" href="#L28">28</a>
<a id="L29" class="source_line" href="#L29">29</a>
<a id="L30" class="source_line" href="#L30">30</a>
<a id="L31" class="source_line" href="#L31">31</a>
<a id="L32" class="source_line" href="#L32">32</a>
<a id="L33" class="source_line" href="#L33">33</a>
<a id="L34" class="source_line" href="#L34">34</a>
<a id="L35" class="source_line" href="#L35">35</a>
<a id="L36" class="source_line" href="#L36">36</a>
<a id="L37" class="source_line" href="#L37">37</a>
<a id="L38" class="source_line" href="#L38">38</a>
<a id="L39" class="source_line" href="#L39">39</a>
<a id="L40" class="source_line" href="#L40">40</a>
<a id="L41" class="source_line" href="#L41">41</a>
<a id="L42" class="source_line" href="#L42">42</a>
<a id="L43" class="source_line" href="#L43">43</a>
<a id="L44" class="source_line" href="#L44">44</a>
<a id="L45" class="source_line" href="#L45">45</a>
<a id="L46" class="source_line" href="#L46">46</a>
<a id="L47" class="source_line" href="#L47">47</a>
<a id="L48" class="source_line" href="#L48">48</a>
<a id="L49" class="source_line" href="#L49">49</a>
<a id="L50" class="source_line" href="#L50">50</a>
<a id="L51" class="source_line" href="#L51">51</a>
<a id="L52" class="source_line" href="#L52">52</a>
<a id="L53" class="source_line" href="#L53">53</a>
<a id="L54" class="source_line" href="#L54">54</a>
<a id="L55" class="source_line" href="#L55">55</a>
<a id="L56" class="source_line" href="#L56">56</a>
<a id="L57" class="source_line" href="#L57">57</a>
<a id="L58" class="source_line" href="#L58">58</a>
<a id="L59" class="source_line" href="#L59">59</a>
<a id="L60" class="source_line" href="#L60">60</a>
<a id="L61" class="source_line" href="#L61">61</a>
<a id="L62" class="source_line" href="#L62">62</a>
<a id="L63" class="source_line" href="#L63">63</a>
<a id="L64" class="source_line" href="#L64">64</a>
<a id="L65" class="source_line" href="#L65">65</a>
<a id="L66" class="source_line" href="#L66">66</a>
<a id="L67" class="source_line" href="#L67">67</a>
<a id="L68" class="source_line" href="#L68">68</a>
<a id="L69" class="source_line" href="#L69">69</a>
<a id="L70" class="source_line" href="#L70">70</a>
<a id="L71" class="source_line" href="#L71">71</a>
<a id="L72" class="source_line" href="#L72">72</a>
<a id="L73" class="source_line" href="#L73">73</a>
<a id="L74" class="source_line" href="#L74">74</a>
<a id="L75" class="source_line" href="#L75">75</a>
<a id="L76" class="source_line" href="#L76">76</a>
<a id="L77" class="source_line" href="#L77">77</a>
<a id="L78" class="source_line" href="#L78">78</a>
<a id="L79" class="source_line" href="#L79">79</a>
<a id="L80" class="source_line" href="#L80">80</a>
<a id="L81" class="source_line" href="#L81">81</a>
<a id="L82" class="source_line" href="#L82">82</a>
<a id="L83" class="source_line" href="#L83">83</a>
<a id="L84" class="source_line" href="#L84">84</a>
<a id="L85" class="source_line" href="#L85">85</a>
<a id="L86" class="source_line" href="#L86">86</a>
<a id="L87" class="source_line" href="#L87">87</a>
<a id="L88" class="source_line" href="#L88">88</a>
<a id="L89" class="source_line" href="#L89">89</a>
<a id="L90" class="source_line" href="#L90">90</a>
<a id="L91" class="source_line" href="#L91">91</a>
<a id="L92" class="source_line" href="#L92">92</a>
<a id="L93" class="source_line" href="#L93">93</a>
<a id="L94" class="source_line" href="#L94">94</a>
<a id="L95" class="source_line" href="#L95">95</a>
<a id="L96" class="source_line" href="#L96">96</a>
<a id="L97" class="source_line" href="#L97">97</a>
<a id="L98" class="source_line" href="#L98">98</a>
<a id="L99" class="source_line" href="#L99">99</a>
<a id="L100" class="source_line" href="#L100">100</a>
<a id="L101" class="source_line" href="#L101">101</a>
<a id="L102" class="source_line" href="#L102">102</a>
<a id="L103" class="source_line" href="#L103">103</a>
<a id="L104" class="source_line" href="#L104">104</a>
<a id="L105" class="source_line" href="#L105">105</a>
<a id="L106" class="source_line" href="#L106">106</a>
<a id="L107" class="source_line" href="#L107">107</a>
<a id="L108" class="source_line" href="#L108">108</a>
<a id="L109" class="source_line" href="#L109">109</a>
<a id="L110" class="source_line" href="#L110">110</a>
<a id="L111" class="source_line" href="#L111">111</a>
<a id="L112" class="source_line" href="#L112">112</a>
<a id="L113" class="source_line" href="#L113">113</a>
<a id="L114" class="source_line" href="#L114">114</a>
<a id="L115" class="source_line" href="#L115">115</a>
<a id="L116" class="source_line" href="#L116">116</a>
<a id="L117" class="source_line" href="#L117">117</a>
<a id="L118" class="source_line" href="#L118">118</a>
<a id="L119" class="source_line" href="#L119">119</a>
<a id="L120" class="source_line" href="#L120">120</a>
<a id="L121" class="source_line" href="#L121">121</a>
<a id="L122" class="source_line" href="#L122">122</a>
<a id="L123" class="source_line" href="#L123">123</a>
<a id="L124" class="source_line" href="#L124">124</a>
<a id="L125" class="source_line" href="#L125">125</a>
<a id="L126" class="source_line" href="#L126">126</a>
<a id="L127" class="source_line" href="#L127">127</a>
<a id="L128" class="source_line" href="#L128">128</a>
<a id="L129" class="source_line" href="#L129">129</a>
<a id="L130" class="source_line" href="#L130">130</a>
<a id="L131" class="source_line" href="#L131">131</a>
<a id="L132" class="source_line" href="#L132">132</a>
<a id="L133" class="source_line" href="#L133">133</a>
<a id="L134" class="source_line" href="#L134">134</a>
<a id="L135" class="source_line" href="#L135">135</a>
<a id="L136" class="source_line" href="#L136">136</a>
<a id="L137" class="source_line" href="#L137">137</a>
<a id="L138" class="source_line" href="#L138">138</a>
<a id="L139" class="source_line" href="#L139">139</a>
<a id="L140" class="source_line" href="#L140">140</a>
<a id="L141" class="source_line" href="#L141">141</a>
<a id="L142" class="source_line" href="#L142">142</a>
<a id="L143" class="source_line" href="#L143">143</a>
<a id="L144" class="source_line" href="#L144">144</a>
<a id="L145" class="source_line" href="#L145">145</a>
<a id="L146" class="source_line" href="#L146">146</a>
<a id="L147" class="source_line" href="#L147">147</a>
<a id="L148" class="source_line" href="#L148">148</a>
<a id="L149" class="source_line" href="#L149">149</a>
<a id="L150" class="source_line" href="#L150">150</a>
<a id="L151" class="source_line" href="#L151">151</a>
<a id="L152" class="source_line" href="#L152">152</a>
<a id="L153" class="source_line" href="#L153">153</a>
<a id="L154" class="source_line" href="#L154">154</a>
<a id="L155" class="source_line" href="#L155">155</a>
<a id="L156" class="source_line" href="#L156">156</a>
<a id="L157" class="source_line" href="#L157">157</a>
<a id="L158" class="source_line" href="#L158">158</a>
<a id="L159" class="source_line" href="#L159">159</a>
<a id="L160" class="source_line" href="#L160">160</a>
<a id="L161" class="source_line" href="#L161">161</a>
<a id="L162" class="source_line" href="#L162">162</a>
<a id="L163" class="source_line" href="#L163">163</a>
<a id="L164" class="source_line" href="#L164">164</a>
<a id="L165" class="source_line" href="#L165">165</a>
<a id="L166" class="source_line" href="#L166">166</a>
<a id="L167" class="source_line" href="#L167">167</a>
<a id="L168" class="source_line" href="#L168">168</a>
<a id="L169" class="source_line" href="#L169">169</a>
<a id="L170" class="source_line" href="#L170">170</a>
<a id="L171" class="source_line" href="#L171">171</a>
<a id="L172" class="source_line" href="#L172">172</a>
<a id="L173" class="source_line" href="#L173">173</a>
<a id="L174" class="source_line" href="#L174">174</a>
<a id="L175" class="source_line" href="#L175">175</a>
<a id="L176" class="source_line" href="#L176">176</a>
<a id="L177" class="source_line" href="#L177">177</a>
<a id="L178" class="source_line" href="#L178">178</a>
<a id="L179" class="source_line" href="#L179">179</a>
<a id="L180" class="source_line" href="#L180">180</a>
<a id="L181" class="source_line" href="#L181">181</a>
<a id="L182" class="source_line" href="#L182">182</a>
<a id="L183" class="source_line" href="#L183">183</a>
<a id="L184" class="source_line" href="#L184">184</a>
<a id="L185" class="source_line" href="#L185">185</a>
<a id="L186" class="source_line" href="#L186">186</a>
<a id="L187" class="source_line" href="#L187">187</a>
<a id="L188" class="source_line" href="#L188">188</a>
<a id="L189" class="source_line" href="#L189">189</a>
<a id="L190" class="source_line" href="#L190">190</a>
<a id="L191" class="source_line" href="#L191">191</a>
<a id="L192" class="source_line" href="#L192">192</a>
<a id="L193" class="source_line" href="#L193">193</a>
<a id="L194" class="source_line" href="#L194">194</a>
<a id="L195" class="source_line" href="#L195">195</a>
<a id="L196" class="source_line" href="#L196">196</a>
<a id="L197" class="source_line" href="#L197">197</a>
<a id="L198" class="source_line" href="#L198">198</a>
<a id="L199" class="source_line" href="#L199">199</a>
<a id="L200" class="source_line" href="#L200">200</a>
<a id="L201" class="source_line" href="#L201">201</a>
<a id="L202" class="source_line" href="#L202">202</a>
<a id="L203" class="source_line" href="#L203">203</a>
<a id="L204" class="source_line" href="#L204">204</a>
<a id="L205" class="source_line" href="#L205">205</a>
<a id="L206" class="source_line" href="#L206">206</a>
<a id="L207" class="source_line" href="#L207">207</a>
<a id="L208" class="source_line" href="#L208">208</a>
<a id="L209" class="source_line" href="#L209">209</a>
<a id="L210" class="source_line" href="#L210">210</a>
<a id="L211" class="source_line" href="#L211">211</a>
<a id="L212" class="source_line" href="#L212">212</a>
<a id="L213" class="source_line" href="#L213">213</a>
<a id="L214" class="source_line" href="#L214">214</a>
<a id="L215" class="source_line" href="#L215">215</a>
<a id="L216" class="source_line" href="#L216">216</a>
<a id="L217" class="source_line" href="#L217">217</a>
<a id="L218" class="source_line" href="#L218">218</a>
<a id="L219" class="source_line" href="#L219">219</a>
<a id="L220" class="source_line" href="#L220">220</a>
<a id="L221" class="source_line" href="#L221">221</a>
<a id="L222" class="source_line" href="#L222">222</a>
<a id="L223" class="source_line" href="#L223">223</a>
<a id="L224" class="source_line" href="#L224">224</a>
<a id="L225" class="source_line" href="#L225">225</a>
<a id="L226" class="source_line" href="#L226">226</a>
<a id="L227" class="source_line" href="#L227">227</a>
<a id="L228" class="source_line" href="#L228">228</a>
<a id="L229" class="source_line" href="#L229">229</a>
<a id="L230" class="source_line" href="#L230">230</a>
<a id="L231" class="source_line" href="#L231">231</a>
<a id="L232" class="source_line" href="#L232">232</a>
<a id="L233" class="source_line" href="#L233">233</a>
<a id="L234" class="source_line" href="#L234">234</a>
<a id="L235" class="source_line" href="#L235">235</a>
<a id="L236" class="source_line" href="#L236">236</a>
<a id="L237" class="source_line" href="#L237">237</a>
<a id="L238" class="source_line" href="#L238">238</a>
<a id="L239" class="source_line" href="#L239">239</a>
<a id="L240" class="source_line" href="#L240">240</a>
<a id="L241" class="source_line" href="#L241">241</a>
<a id="L242" class="source_line" href="#L242">242</a>
<a id="L243" class="source_line" href="#L243">243</a>
<a id="L244" class="source_line" href="#L244">244</a>
<a id="L245" class="source_line" href="#L245">245</a>
<a id="L246" class="source_line" href="#L246">246</a>
<a id="L247" class="source_line" href="#L247">247</a>
<a id="L248" class="source_line" href="#L248">248</a>
<a id="L249" class="source_line" href="#L249">249</a>
<a id="L250" class="source_line" href="#L250">250</a>
<a id="L251" class="source_line" href="#L251">251</a>
<a id="L252" class="source_line" href="#L252">252</a>
<a id="L253" class="source_line" href="#L253">253</a>
<a id="L254" class="source_line" href="#L254">254</a>
<a id="L255" class="source_line" href="#L255">255</a>
<a id="L256" class="source_line" href="#L256">256</a>
<a id="L257" class="source_line" href="#L257">257</a>
<a id="L258" class="source_line" href="#L258">258</a>
<a id="L259" class="source_line" href="#L259">259</a>
<a id="L260" class="source_line" href="#L260">260</a>
<a id="L261" class="source_line" href="#L261">261</a>
<a id="L262" class="source_line" href="#L262">262</a>
<a id="L263" class="source_line" href="#L263">263</a>
<a id="L264" class="source_line" href="#L264">264</a>
<a id="L265" class="source_line" href="#L265">265</a>
<a id="L266" class="source_line" href="#L266">266</a>
<a id="L267" class="source_line" href="#L267">267</a>
<a id="L268" class="source_line" href="#L268">268</a>
<a id="L269" class="source_line" href="#L269">269</a>
<a id="L270" class="source_line" href="#L270">270</a>
<a id="L271" class="source_line" href="#L271">271</a>
<a id="L272" class="source_line" href="#L272">272</a>
<a id="L273" class="source_line" href="#L273">273</a>
<a id="L274" class="source_line" href="#L274">274</a>
<a id="L275" class="source_line" href="#L275">275</a>
<a id="L276" class="source_line" href="#L276">276</a>
<a id="L277" class="source_line" href="#L277">277</a>
<a id="L278" class="source_line" href="#L278">278</a>
<a id="L279" class="source_line" href="#L279">279</a>
<a id="L280" class="source_line" href="#L280">280</a>
<a id="L281" class="source_line" href="#L281">281</a>
<a id="L282" class="source_line" href="#L282">282</a>
<a id="L283" class="source_line" href="#L283">283</a>
<a id="L284" class="source_line" href="#L284">284</a>
<a id="L285" class="source_line" href="#L285">285</a>
<a id="L286" class="source_line" href="#L286">286</a>
<a id="L287" class="source_line" href="#L287">287</a>
<a id="L288" class="source_line" href="#L288">288</a>
<a id="L289" class="source_line" href="#L289">289</a>
<a id="L290" class="source_line" href="#L290">290</a>
<a id="L291" class="source_line" href="#L291">291</a>
<a id="L292" class="source_line" href="#L292">292</a>
<a id="L293" class="source_line" href="#L293">293</a>
<a id="L294" class="source_line" href="#L294">294</a>
<a id="L295" class="source_line" href="#L295">295</a>
<a id="L296" class="source_line" href="#L296">296</a>
<a id="L297" class="source_line" href="#L297">297</a>
<a id="L298" class="source_line" href="#L298">298</a>
<a id="L299" class="source_line" href="#L299">299</a>
<a id="L300" class="source_line" href="#L300">300</a>
<a id="L301" class="source_line" href="#L301">301</a>
<a id="L302" class="source_line" href="#L302">302</a>
<a id="L303" class="source_line" href="#L303">303</a>
<a id="L304" class="source_line" href="#L304">304</a>
<a id="L305" class="source_line" href="#L305">305</a>
<a id="L306" class="source_line" href="#L306">306</a>
<a id="L307" class="source_line" href="#L307">307</a>
<a id="L308" class="source_line" href="#L308">308</a>
<a id="L309" class="source_line" href="#L309">309</a>
<a id="L310" class="source_line" href="#L310">310</a>
<a id="L311" class="source_line" href="#L311">311</a>
<a id="L312" class="source_line" href="#L312">312</a>
<a id="L313" class="source_line" href="#L313">313</a>
<a id="L314" class="source_line" href="#L314">314</a>
<a id="L315" class="source_line" href="#L315">315</a>
<a id="L316" class="source_line" href="#L316">316</a>
<a id="L317" class="source_line" href="#L317">317</a>
<a id="L318" class="source_line" href="#L318">318</a>
<a id="L319" class="source_line" href="#L319">319</a>
<a id="L320" class="source_line" href="#L320">320</a>
<a id="L321" class="source_line" href="#L321">321</a>
<a id="L322" class="source_line" href="#L322">322</a>
<a id="L323" class="source_line" href="#L323">323</a>
<a id="L324" class="source_line" href="#L324">324</a>
<a id="L325" class="source_line" href="#L325">325</a>
<a id="L326" class="source_line" href="#L326">326</a>
<a id="L327" class="source_line" href="#L327">327</a>
<a id="L328" class="source_line" href="#L328">328</a>
<a id="L329" class="source_line" href="#L329">329</a>
<a id="L330" class="source_line" href="#L330">330</a>
<a id="L331" class="source_line" href="#L331">331</a>
<a id="L332" class="source_line" href="#L332">332</a>
<a id="L333" class="source_line" href="#L333">333</a>
<a id="L334" class="source_line" href="#L334">334</a>
<a id="L335" class="source_line" href="#L335">335</a>
<a id="L336" class="source_line" href="#L336">336</a>
<a id="L337" class="source_line" href="#L337">337</a>
<a id="L338" class="source_line" href="#L338">338</a>
<a id="L339" class="source_line" href="#L339">339</a>
<a id="L340" class="source_line" href="#L340">340</a>
<a id="L341" class="source_line" href="#L341">341</a>
<a id="L342" class="source_line" href="#L342">342</a>
<a id="L343" class="source_line" href="#L343">343</a>
<a id="L344" class="source_line" href="#L344">344</a>
<a id="L345" class="source_line" href="#L345">345</a>
<a id="L346" class="source_line" href="#L346">346</a>
<a id="L347" class="source_line" href="#L347">347</a>
<a id="L348" class="source_line" href="#L348">348</a>
<a id="L349" class="source_line" href="#L349">349</a>
<a id="L350" class="source_line" href="#L350">350</a>
<a id="L351" class="source_line" href="#L351">351</a>
<a id="L352" class="source_line" href="#L352">352</a>
<a id="L353" class="source_line" href="#L353">353</a>
<a id="L354" class="source_line" href="#L354">354</a>
<a id="L355" class="source_line" href="#L355">355</a>
<a id="L356" class="source_line" href="#L356">356</a>
<a id="L357" class="source_line" href="#L357">357</a>
<a id="L358" class="source_line" href="#L358">358</a>
<a id="L359" class="source_line" href="#L359">359</a>
<a id="L360" class="source_line" href="#L360">360</a>
<a id="L361" class="source_line" href="#L361">361</a>
<a id="L362" class="source_line" href="#L362">362</a>
<a id="L363" class="source_line" href="#L363">363</a>
<a id="L364" class="source_line" href="#L364">364</a>
<a id="L365" class="source_line" href="#L365">365</a>
<a id="L366" class="source_line" href="#L366">366</a>
<a id="L367" class="source_line" href="#L367">367</a>
<a id="L368" class="source_line" href="#L368">368</a>
<a id="L369" class="source_line" href="#L369">369</a>
<a id="L370" class="source_line" href="#L370">370</a>
<a id="L371" class="source_line" href="#L371">371</a>
<a id="L372" class="source_line" href="#L372">372</a>
<a id="L373" class="source_line" href="#L373">373</a>
<a id="L374" class="source_line" href="#L374">374</a>
<a id="L375" class="source_line" href="#L375">375</a>
<a id="L376" class="source_line" href="#L376">376</a>
<a id="L377" class="source_line" href="#L377">377</a>
<a id="L378" class="source_line" href="#L378">378</a>
<a id="L379" class="source_line" href="#L379">379</a>
<a id="L380" class="source_line" href="#L380">380</a>
<a id="L381" class="source_line" href="#L381">381</a>
<a id="L382" class="source_line" href="#L382">382</a>
<a id="L383" class="source_line" href="#L383">383</a>
<a id="L384" class="source_line" href="#L384">384</a>
<a id="L385" class="source_line" href="#L385">385</a>
<a id="L386" class="source_line" href="#L386">386</a>
<a id="L387" class="source_line" href="#L387">387</a>
<a id="L388" class="source_line" href="#L388">388</a>
<a id="L389" class="source_line" href="#L389">389</a>
<a id="L390" class="source_line" href="#L390">390</a>
<a id="L391" class="source_line" href="#L391">391</a>
<a id="L392" class="source_line" href="#L392">392</a>
<a id="L393" class="source_line" href="#L393">393</a>
<a id="L394" class="source_line" href="#L394">394</a>
<a id="L395" class="source_line" href="#L395">395</a>
<a id="L396" class="source_line" href="#L396">396</a>
<a id="L397" class="source_line" href="#L397">397</a>
<a id="L398" class="source_line" href="#L398">398</a>
<a id="L399" class="source_line" href="#L399">399</a>
<a id="L400" class="source_line" href="#L400">400</a>
<a id="L401" class="source_line" href="#L401">401</a>
<a id="L402" class="source_line" href="#L402">402</a>
<a id="L403" class="source_line" href="#L403">403</a>
<a id="L404" class="source_line" href="#L404">404</a>
<a id="L405" class="source_line" href="#L405">405</a>
<a id="L406" class="source_line" href="#L406">406</a>
<a id="L407" class="source_line" href="#L407">407</a>
<a id="L408" class="source_line" href="#L408">408</a>
<a id="L409" class="source_line" href="#L409">409</a>
<a id="L410" class="source_line" href="#L410">410</a>
<a id="L411" class="source_line" href="#L411">411</a>
<a id="L412" class="source_line" href="#L412">412</a>
<a id="L413" class="source_line" href="#L413">413</a>
<a id="L414" class="source_line" href="#L414">414</a>
<a id="L415" class="source_line" href="#L415">415</a>
<a id="L416" class="source_line" href="#L416">416</a>
<a id="L417" class="source_line" href="#L417">417</a>
<a id="L418" class="source_line" href="#L418">418</a>
<a id="L419" class="source_line" href="#L419">419</a>
<a id="L420" class="source_line" href="#L420">420</a>
<a id="L421" class="source_line" href="#L421">421</a>
<a id="L422" class="source_line" href="#L422">422</a>
<a id="L423" class="source_line" href="#L423">423</a>
<a id="L424" class="source_line" href="#L424">424</a>
<a id="L425" class="source_line" href="#L425">425</a>
<a id="L426" class="source_line" href="#L426">426</a>
<a id="L427" class="source_line" href="#L427">427</a>
<a id="L428" class="source_line" href="#L428">428</a>
<a id="L429" class="source_line" href="#L429">429</a>
<a id="L430" class="source_line" href="#L430">430</a>
<a id="L431" class="source_line" href="#L431">431</a>
<a id="L432" class="source_line" href="#L432">432</a>
<a id="L433" class="source_line" href="#L433">433</a>
<a id="L434" class="source_line" href="#L434">434</a>
<a id="L435" class="source_line" href="#L435">435</a>
<a id="L436" class="source_line" href="#L436">436</a>
<a id="L437" class="source_line" href="#L437">437</a>
<a id="L438" class="source_line" href="#L438">438</a>
<a id="L439" class="source_line" href="#L439">439</a>
<a id="L440" class="source_line" href="#L440">440</a>
<a id="L441" class="source_line" href="#L441">441</a>
<a id="L442" class="source_line" href="#L442">442</a>
<a id="L443" class="source_line" href="#L443">443</a>
<a id="L444" class="source_line" href="#L444">444</a>
<a id="L445" class="source_line" href="#L445">445</a>
<a id="L446" class="source_line" href="#L446">446</a>
<a id="L447" class="source_line" href="#L447">447</a>
<a id="L448" class="source_line" href="#L448">448</a>
<a id="L449" class="source_line" href="#L449">449</a>
</code><code class="source_code"><span><span class="LET">let</span> <span id="val-expected_err"><span class="LIDENT">expected_err</span></span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span> <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;Expected %s.&quot;</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-unknown_reference_qualifier"><span class="LIDENT">unknown_reference_qualifier</span></span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span> <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;Unknown reference qualifier '%s'.&quot;</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-{deprecated_reference_kind}1"><span class="LIDENT">deprecated_reference_kind</span></span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span> <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;'%s' is deprecated, use '%s' instead.&quot;</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-reference_kinds_do_not_match"><span class="LIDENT">reference_kinds_do_not_match</span></span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span> <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a><span class="EOL">
</span>    <span class="EQUAL">=</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;Old-style reference kind ('%s:') does not match new ('%s-').&quot;</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-should_not_be_empty"><span class="LIDENT">should_not_be_empty</span></span> <span class="COLON">:</span> <span class="LIDENT">what</span><span class="COLON">:</span><span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span> <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span> <span class="FUN">fun</span> <span class="TILDE">~</span><span id="local_what_1"><span class="LIDENT">what</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;%s should not be empty.&quot;</span> <span class="LPAREN">(</span><span class="UIDENT">Astring</span><span class="DOT">.</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="UIDENT">Ascii</span><span class="DOT">.</span><span class="LIDENT">capitalize</span> <a href="#local_what_1"><span class="LIDENT">what</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-not_allowed"><span class="LIDENT">not_allowed</span></span> <span class="COLON">:</span><span class="EOL">
</span>    <span class="OPTLABEL">?suggestion:</span><span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>    <span class="LIDENT">what</span><span class="COLON">:</span><span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>    <span class="LIDENT">in_what</span><span class="COLON">:</span><span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>    <a href="../parser/loc.ml.html#type-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>    <a href="error.ml.html#type-t"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span> <span class="FUN">fun</span> <span class="QUESTION">?</span><span id="local_suggestion_2"><span class="LIDENT">suggestion</span></span> <span class="TILDE">~</span><span id="local_what_3"><span class="LIDENT">what</span></span> <span class="TILDE">~</span><span id="local_in_what_4"><span class="LIDENT">in_what</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>  <a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="QUESTION">?</span><a href="#local_suggestion_2"><span class="LIDENT">suggestion</span></a> <span class="STRING">&quot;%s is not allowed in %s.&quot;</span><span class="EOL">
</span>    <span class="LPAREN">(</span><span class="UIDENT">Astring</span><span class="DOT">.</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="UIDENT">Ascii</span><span class="DOT">.</span><span class="LIDENT">capitalize</span> <a href="#local_what_3"><span class="LIDENT">what</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <a href="#local_in_what_4"><span class="LIDENT">in_what</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-deprecated_reference_kind"><span class="LIDENT">deprecated_reference_kind</span></span> <span id="local_location_5"><span class="LIDENT">location</span></span> <span id="local_kind_6"><span class="LIDENT">kind</span></span> <span id="local_replacement_7"><span class="LIDENT">replacement</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LIDENT">deprecated_reference_kind</span> <a href="#local_kind_6"><span class="LIDENT">kind</span></a> <a href="#local_replacement_7"><span class="LIDENT">replacement</span></a> <a href="#local_location_5"><span class="LIDENT">location</span></a> <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_warning"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_warning</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#sec359. *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-match_ocamldoc_reference_kind"><span class="LIDENT">match_ocamldoc_reference_kind</span></span> <span class="LPAREN">(</span><span id="local__location_9"><span class="LIDENT">_location</span></span> <span class="AS">as</span> <span id="local_loc_8"><span class="LIDENT">loc</span></span><span class="RPAREN">)</span> <span id="local_s_10"><span class="LIDENT">s</span></span> <span class="COLON">:</span><span class="EOL">
</span>    <a href="paths.ml.html#module-Reference.type-tag_any"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Reference</span><span class="DOT">.</span><span class="LIDENT">tag_any</span></a> <span class="LIDENT">option</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_d_11"><span class="LIDENT">d</span></span> <span class="EQUAL">=</span> <span class="LIDENT">deprecated_reference_kind</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_s_10"><span class="LIDENT">s</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;module&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;modtype&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_11"><span class="LIDENT">d</span></a> <a href="#local_loc_8"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;modtype&quot;</span> <span class="STRING">&quot;module-type&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;class&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;classtype&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_11"><span class="LIDENT">d</span></a> <a href="#local_loc_8"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;classtype&quot;</span> <span class="STRING">&quot;class-type&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;val&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TValue</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;type&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;exception&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TException</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;attribute&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">None</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;method&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TMethod</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;section&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TLabel</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;const&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_11"><span class="LIDENT">d</span></a> <a href="#local_loc_8"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;const&quot;</span> <span class="STRING">&quot;constructor&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TConstructor</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;recfield&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_11"><span class="LIDENT">d</span></a> <a href="#local_loc_8"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;recfield&quot;</span> <span class="STRING">&quot;field&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TField</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;childpage&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TChildPage</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;childmodule&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TChildModule</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">None</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-match_extra_odoc_reference_kind"><span class="LIDENT">match_extra_odoc_reference_kind</span></span> <span class="LPAREN">(</span><span id="local__location_13"><span class="LIDENT">_location</span></span> <span class="AS">as</span> <span id="local_loc_12"><span class="LIDENT">loc</span></span><span class="RPAREN">)</span> <span id="local_s_14"><span class="LIDENT">s</span></span> <span class="COLON">:</span><span class="EOL">
</span>    <a href="paths.ml.html#module-Reference.type-tag_any"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Reference</span><span class="DOT">.</span><span class="LIDENT">tag_any</span></a> <span class="LIDENT">option</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_d_15"><span class="LIDENT">d</span></span> <span class="EQUAL">=</span> <span class="LIDENT">deprecated_reference_kind</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_s_14"><span class="LIDENT">s</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;class-type&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;constructor&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TConstructor</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;exn&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_15"><span class="LIDENT">d</span></a> <a href="#local_loc_12"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;exn&quot;</span> <span class="STRING">&quot;exception&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TException</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;extension&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TExtension</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;extension-decl&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TExtensionDecl</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;field&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TField</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;instance-variable&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TInstanceVariable</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;label&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_15"><span class="LIDENT">d</span></a> <a href="#local_loc_12"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;label&quot;</span> <span class="STRING">&quot;section&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TLabel</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;module-type&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;page&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TPage</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="STRING">&quot;value&quot;</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="#local_d_15"><span class="LIDENT">d</span></a> <a href="#local_loc_12"><span class="LIDENT">loc</span></a> <span class="STRING">&quot;value&quot;</span> <span class="STRING">&quot;val&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="UIDENT">Some</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TValue</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">None</span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Ideally, [tokenize] would call this on every reference kind annotation during
   tokenization, when generating the token list. However, that constrains the
   phantom tag type to be the same for all tokens in the list (because lists are
   homogeneous). So, the parser stores kinds as strings in the token list
   instead, and this function is called on each string at the latest possible
   time to prevent typing issues.

   A secondary reason to delay parsing, and store strings in the token list, is
   that we need the strings for user-friendly error reporting. *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-match_reference_kind"><span class="LIDENT">match_reference_kind</span></span> <span id="local_location_16"><span class="LIDENT">location</span></span> <span id="local_s_17"><span class="LIDENT">s</span></span> <span class="COLON">:</span> <a href="paths.ml.html#module-Reference.type-tag_any"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Reference</span><span class="DOT">.</span><span class="LIDENT">tag_any</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_s_17"><span class="LIDENT">s</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Some</span> <span id="local_s_19"><span class="LIDENT">s</span></span> <span class="AS">as</span> <span id="local_wrapped_18"><span class="LIDENT">wrapped</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_result_20"><span class="LIDENT">result</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>        <span class="MATCH">match</span> <span class="LIDENT">match_ocamldoc_reference_kind</span> <a href="#local_location_16"><span class="LIDENT">location</span></a> <a href="#local_wrapped_18"><span class="LIDENT">wrapped</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Some</span> <span id="local_kind_21"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <a href="#local_kind_21"><span class="LIDENT">kind</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">match_extra_odoc_reference_kind</span> <a href="#local_location_16"><span class="LIDENT">location</span></a> <a href="#local_wrapped_18"><span class="LIDENT">wrapped</span></a><span class="EOL">
</span>      <span class="IN">in</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_result_20"><span class="LIDENT">result</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Some</span> <span id="local_kind_22"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_kind_22"><span class="LIDENT">kind</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">unknown_reference_qualifier</span> <a href="#local_s_19"><span class="LIDENT">s</span></a> <a href="#local_location_16"><span class="LIDENT">location</span></a> <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* The string is scanned right-to-left, because we are interested in right-most
   hyphens. The tokens are also returned in right-to-left order, because the
   traversals that consume them prefer to look at the deepest identifier
   first. *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-tokenize"><span class="LIDENT">tokenize</span></span> <span id="local_location_23"><span class="LIDENT">location</span></span> <span id="local_s_24"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></span> <span id="local_started_at_26"><span class="LIDENT">started_at</span></span> <span id="local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></span> <span id="local_index_28"><span class="LIDENT">index</span></span> <span id="local_tokens_29"><span class="LIDENT">tokens</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_s_24"><span class="LIDENT">s</span></a><span class="DOT">.</span><span class="LBRACKET">[</span><a href="#local_index_28"><span class="LIDENT">index</span></a><span class="RBRACKET">]</span> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="EXCEPTION">exception</span> <span class="UIDENT">Invalid_argument</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_identifier_30"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_31"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="#local_identifier_ended_36"><span class="LIDENT">identifier_ended</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a> <a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="IN">in</span><span class="EOL">
</span>        <span class="LPAREN">(</span><span class="UIDENT">None</span><span class="COMMA">,</span> <a href="#local_identifier_30"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_location_31"><span class="LIDENT">location</span></a><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">'-'</span> <span class="WHEN">when</span> <a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="EQUAL">=</span> <span class="INT">0</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_identifier_32"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_33"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="#local_identifier_ended_36"><span class="LIDENT">identifier_ended</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a> <a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="IN">in</span><span class="EOL">
</span>        <a href="#local_scan_kind_46"><span class="LIDENT">scan_kind</span></a> <a href="#local_identifier_32"><span class="LIDENT">identifier</span></a> <a href="#local_location_33"><span class="LIDENT">location</span></a> <a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">'.'</span> <span class="WHEN">when</span> <a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="EQUAL">=</span> <span class="INT">0</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_identifier_34"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_35"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="#local_identifier_ended_36"><span class="LIDENT">identifier_ended</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a> <a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="IN">in</span><span class="EOL">
</span>        <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="INT">0</span> <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="LPAREN">(</span><span class="LPAREN">(</span><span class="UIDENT">None</span><span class="COMMA">,</span> <a href="#local_identifier_34"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_location_35"><span class="LIDENT">location</span></a><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">')'</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a><span class="EOL">
</span>          <span class="LPAREN">(</span><a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">'('</span> <span class="WHEN">when</span> <a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="GREATER">&gt;</span> <span class="INT">0</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a><span class="EOL">
</span>          <span class="LPAREN">(</span><a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">'&quot;'</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="TRY">try</span><span class="EOL">
</span>          <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a> <span class="INT">0</span><span class="EOL">
</span>            <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">rindex_from</span> <a href="#local_s_24"><span class="LIDENT">s</span></a> <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="CHAR">'&quot;'</span> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>            <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>        <span class="WITH">with</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a> <span class="LPAREN">(</span><a href="error.ml.html#val-make"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <span class="STRING">&quot;Unmatched quotation!&quot;</span> <a href="#local_location_23"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_started_at_26"><span class="LIDENT">started_at</span></a> <a href="#local_open_parenthesis_count_27"><span class="LIDENT">open_parenthesis_count</span></a> <span class="LPAREN">(</span><a href="#local_index_28"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_tokens_29"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_identifier_ended_36"><span class="LIDENT">identifier_ended</span></span> <span id="local_started_at_37"><span class="LIDENT">started_at</span></span> <span id="local_index_38"><span class="LIDENT">index</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_offset_39"><span class="LIDENT">offset</span></span> <span class="EQUAL">=</span> <a href="#local_index_38"><span class="LIDENT">index</span></a> <span class="PLUS">+</span> <span class="INT">1</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_length_40"><span class="LIDENT">length</span></span> <span class="EQUAL">=</span> <a href="#local_started_at_37"><span class="LIDENT">started_at</span></a> <span class="MINUS">-</span> <a href="#local_offset_39"><span class="LIDENT">offset</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_identifier_41"><span class="LIDENT">identifier</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_24"><span class="LIDENT">s</span></a> <a href="#local_offset_39"><span class="LIDENT">offset</span></a> <a href="#local_length_40"><span class="LIDENT">length</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_identifier_42"><span class="LIDENT">identifier</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="UIDENT">Astring</span><span class="DOT">.</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">cuts</span> <span class="LABEL">~sep:</span><span class="STRING">&quot;\&quot;&quot;</span> <a href="#local_identifier_41"><span class="LIDENT">identifier</span></a><span class="EOL">
</span>      <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">mapi</span> <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_i_43"><span class="LIDENT">i</span></span> <span id="local_s_44"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>             <span class="IF">if</span> <a href="#local_i_43"><span class="LIDENT">i</span></a> <span class="INFIXOP3">mod</span> <span class="INT">2</span> <span class="EQUAL">=</span> <span class="INT">0</span> <span class="THEN">then</span><span class="EOL">
</span>               <span class="UIDENT">Astring</span><span class="DOT">.</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">cuts</span> <a href="#local_s_44"><span class="LIDENT">s</span></a> <span class="LABEL">~sep:</span><span class="STRING">&quot; &quot;</span> <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>             <span class="ELSE">else</span> <a href="#local_s_44"><span class="LIDENT">s</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_location_45"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="location_.ml.html#val-in_string"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">in_string</span></a> <a href="#local_s_24"><span class="LIDENT">s</span></a> <span class="TILDE">~</span><a href="#local_offset_39"><span class="LIDENT">offset</span></a> <span class="TILDE">~</span><a href="#local_length_40"><span class="LIDENT">length</span></a> <a href="#local_location_23"><span class="LIDENT">location</span></a> <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_identifier_42"><span class="LIDENT">identifier</span></a> <span class="EQUAL">=</span> <span class="STRING">&quot;&quot;</span> <span class="THEN">then</span><span class="EOL">
</span>      <span class="LIDENT">should_not_be_empty</span> <span class="LABEL">~what:</span><span class="STRING">&quot;Identifier in reference&quot;</span> <a href="#local_location_45"><span class="LIDENT">location</span></a><span class="EOL">
</span>      <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="SEMI">;</span><span class="EOL">
</span><span class="EOL">
</span>    <span class="LPAREN">(</span><a href="#local_identifier_42"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_location_45"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_scan_kind_46"><span class="LIDENT">scan_kind</span></span> <span id="local_identifier_47"><span class="LIDENT">identifier</span></span> <span id="local_identifier_location_48"><span class="LIDENT">identifier_location</span></span> <span id="local_started_at_49"><span class="LIDENT">started_at</span></span> <span id="local_index_50"><span class="LIDENT">index</span></span> <span id="local_tokens_51"><span class="LIDENT">tokens</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_s_24"><span class="LIDENT">s</span></a><span class="DOT">.</span><span class="LBRACKET">[</span><a href="#local_index_50"><span class="LIDENT">index</span></a><span class="RBRACKET">]</span> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="EXCEPTION">exception</span> <span class="UIDENT">Invalid_argument</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_kind_52"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_location_53"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="#local_kind_ended_56"><span class="LIDENT">kind_ended</span></a> <a href="#local_identifier_location_48"><span class="LIDENT">identifier_location</span></a> <a href="#local_started_at_49"><span class="LIDENT">started_at</span></a> <a href="#local_index_50"><span class="LIDENT">index</span></a> <span class="IN">in</span><span class="EOL">
</span>        <span class="LPAREN">(</span><a href="#local_kind_52"><span class="LIDENT">kind</span></a><span class="COMMA">,</span> <a href="#local_identifier_47"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_location_53"><span class="LIDENT">location</span></a><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <a href="#local_tokens_51"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="CHAR">'.'</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_kind_54"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_location_55"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="#local_kind_ended_56"><span class="LIDENT">kind_ended</span></a> <a href="#local_identifier_location_48"><span class="LIDENT">identifier_location</span></a> <a href="#local_started_at_49"><span class="LIDENT">started_at</span></a> <a href="#local_index_50"><span class="LIDENT">index</span></a> <span class="IN">in</span><span class="EOL">
</span>        <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <a href="#local_index_50"><span class="LIDENT">index</span></a> <span class="INT">0</span> <span class="LPAREN">(</span><a href="#local_index_50"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_kind_54"><span class="LIDENT">kind</span></a><span class="COMMA">,</span> <a href="#local_identifier_47"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_location_55"><span class="LIDENT">location</span></a><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <a href="#local_tokens_51"><span class="LIDENT">tokens</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <a href="#local_scan_kind_46"><span class="LIDENT">scan_kind</span></a> <a href="#local_identifier_47"><span class="LIDENT">identifier</span></a> <a href="#local_identifier_location_48"><span class="LIDENT">identifier_location</span></a> <a href="#local_started_at_49"><span class="LIDENT">started_at</span></a> <span class="LPAREN">(</span><a href="#local_index_50"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_tokens_51"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_kind_ended_56"><span class="LIDENT">kind_ended</span></span> <span id="local_identifier_location_57"><span class="LIDENT">identifier_location</span></span> <span id="local_started_at_58"><span class="LIDENT">started_at</span></span> <span id="local_index_59"><span class="LIDENT">index</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_offset_60"><span class="LIDENT">offset</span></span> <span class="EQUAL">=</span> <a href="#local_index_59"><span class="LIDENT">index</span></a> <span class="PLUS">+</span> <span class="INT">1</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_length_61"><span class="LIDENT">length</span></span> <span class="EQUAL">=</span> <a href="#local_started_at_58"><span class="LIDENT">started_at</span></a> <span class="MINUS">-</span> <a href="#local_offset_60"><span class="LIDENT">offset</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_62"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Some</span> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_24"><span class="LIDENT">s</span></a> <a href="#local_offset_60"><span class="LIDENT">offset</span></a> <a href="#local_length_61"><span class="LIDENT">length</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_location_63"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="location_.ml.html#val-in_string"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">in_string</span></a> <a href="#local_s_24"><span class="LIDENT">s</span></a> <span class="TILDE">~</span><a href="#local_offset_60"><span class="LIDENT">offset</span></a> <span class="TILDE">~</span><a href="#local_length_61"><span class="LIDENT">length</span></a> <a href="#local_location_23"><span class="LIDENT">location</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_location_64"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span> <a href="../parser/loc.ml.html#val-span"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">span</span></a> <span class="LBRACKET">[</span> <a href="#local_location_63"><span class="LIDENT">location</span></a><span class="SEMI">;</span> <a href="#local_identifier_location_57"><span class="LIDENT">identifier_location</span></a> <span class="RBRACKET">]</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LPAREN">(</span><a href="#local_kind_62"><span class="LIDENT">kind</span></a><span class="COMMA">,</span> <a href="#local_location_64"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <a href="#local_scan_identifier_25"><span class="LIDENT">scan_identifier</span></a> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_s_24"><span class="LIDENT">s</span></a><span class="RPAREN">)</span> <span class="INT">0</span> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_s_24"><span class="LIDENT">s</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">rev</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-expected"><span class="LIDENT">expected</span></span> <span id="local_allowed_65"><span class="LIDENT">allowed</span></span> <span id="local_location_66"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_unqualified_67"><span class="LIDENT">unqualified</span></span> <span class="EQUAL">=</span> <span class="STRING">&quot;or an unqualified reference&quot;</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_allowed_68"><span class="LIDENT">allowed</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_allowed_65"><span class="LIDENT">allowed</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span> <span id="local_one_69"><span class="LIDENT">one</span></span> <span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Printf</span><span class="DOT">.</span><span class="LIDENT">sprintf</span> <span class="STRING">&quot;'%s-' %s&quot;</span> <a href="#local_one_69"><span class="LIDENT">one</span></a> <a href="#local_unqualified_67"><span class="LIDENT">unqualified</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span> <span class="STRING">&quot;, &quot;</span><span class="EOL">
</span>          <span class="LPAREN">(</span><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">map</span> <span class="LPAREN">(</span><span class="UIDENT">Printf</span><span class="DOT">.</span><span class="LIDENT">sprintf</span> <span class="STRING">&quot;'%s-'&quot;</span><span class="RPAREN">)</span> <a href="#local_allowed_65"><span class="LIDENT">allowed</span></a> <span class="INFIXOP1">@</span> <span class="LBRACKET">[</span> <a href="#local_unqualified_67"><span class="LIDENT">unqualified</span></a> <span class="RBRACKET">]</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="LIDENT">expected_err</span> <a href="#local_allowed_68"><span class="LIDENT">allowed</span></a> <a href="#local_location_66"><span class="LIDENT">location</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-parse"><span class="LIDENT">parse</span></span> <span id="local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></span> <span id="local_s_71"><span class="LIDENT">s</span></span> <span class="COLON">:</span><span class="EOL">
</span>    <a href="error.ml.html#type-with_errors_and_warnings"><a href="paths.ml.html#module-Reference.type-t"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Reference</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">with_errors_and_warnings</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="OPEN">open</span> <a href="paths.ml.html#module-Reference"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Reference</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="OPEN">open</span> <a href="names.ml.html"><span class="UIDENT">Names</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_signature_72"><span class="LIDENT">signature</span></span> <span class="LPAREN">(</span><span id="local_kind_73"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_identifier_74"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_75"><span class="LIDENT">location</span></span><span class="RPAREN">)</span> <span id="local_tokens_76"><span class="LIDENT">tokens</span></span> <span class="COLON">:</span> <a href="paths.ml.html#module-Reference.module-Signature.type-t"><span class="UIDENT">Signature</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_77"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span> <span class="LIDENT">match_reference_kind</span> <a href="#local_location_75"><span class="LIDENT">location</span></a> <a href="#local_kind_73"><span class="LIDENT">kind</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_tokens_76"><span class="LIDENT">tokens</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_77"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span><span class="RPAREN">)</span> <span class="AS">as</span> <span id="local_kind_78"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><a href="#local_identifier_74"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_kind_78"><span class="LIDENT">kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_75"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_next_token_79"><span class="LIDENT">next_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_80"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_77"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_parent_81"><span class="LIDENT">parent</span></a> <a href="#local_next_token_79"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_80"><span class="LIDENT">tokens</span></a> <span class="COLONGREATER">:&gt;</span> <a href="paths.ml.html#module-Reference.module-LabelParent.type-t"><span class="UIDENT">LabelParent</span><span class="DOT">.</span><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="COMMA">,</span> <a href="#local_identifier_74"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Module</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_79"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_80"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_74"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ModuleType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_79"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_80"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_74"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_75"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_parent_81"><span class="LIDENT">parent</span></span> <span class="LPAREN">(</span><span id="local_kind_82"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_identifier_83"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_84"><span class="LIDENT">location</span></span><span class="RPAREN">)</span> <span id="local_tokens_85"><span class="LIDENT">tokens</span></span> <span class="COLON">:</span> <a href="paths.ml.html#module-Reference.module-FragmentTypeParent.type-t"><span class="UIDENT">FragmentTypeParent</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_86"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span> <span class="LIDENT">match_reference_kind</span> <a href="#local_location_84"><span class="LIDENT">location</span></a> <a href="#local_kind_82"><span class="LIDENT">kind</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_tokens_85"><span class="LIDENT">tokens</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_86"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span><span class="RPAREN">)</span> <span class="AS">as</span> <span id="local_kind_87"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><a href="#local_identifier_83"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_kind_87"><span class="LIDENT">kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_84"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_next_token_88"><span class="LIDENT">next_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_89"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_86"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_parent_81"><span class="LIDENT">parent</span></a> <a href="#local_next_token_88"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_89"><span class="LIDENT">tokens</span></a> <span class="COLONGREATER">:&gt;</span> <a href="paths.ml.html#module-Reference.module-LabelParent.type-t"><span class="UIDENT">LabelParent</span><span class="DOT">.</span><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="COMMA">,</span> <a href="#local_identifier_83"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Module</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_88"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_89"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_83"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ModuleType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_88"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_89"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_83"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Type</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_88"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_89"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">TypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_83"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_84"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_class_signature_90"><span class="LIDENT">class_signature</span></span> <span class="LPAREN">(</span><span id="local_kind_91"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_identifier_92"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_93"><span class="LIDENT">location</span></span><span class="RPAREN">)</span> <span id="local_tokens_94"><span class="LIDENT">tokens</span></span> <span class="COLON">:</span> <a href="paths.ml.html#module-Reference.module-ClassSignature.type-t"><span class="UIDENT">ClassSignature</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_95"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span> <span class="LIDENT">match_reference_kind</span> <a href="#local_location_93"><span class="LIDENT">location</span></a> <a href="#local_kind_91"><span class="LIDENT">kind</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_tokens_94"><span class="LIDENT">tokens</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_95"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span><span class="RPAREN">)</span> <span class="AS">as</span> <span id="local_kind_96"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><a href="#local_identifier_92"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_kind_96"><span class="LIDENT">kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;class&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class-type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_93"><span class="LIDENT">location</span></a> <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="EOL">
</span>        <span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_next_token_97"><span class="LIDENT">next_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_98"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_95"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_parent_81"><span class="LIDENT">parent</span></a> <a href="#local_next_token_97"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_98"><span class="LIDENT">tokens</span></a> <span class="COLONGREATER">:&gt;</span> <a href="paths.ml.html#module-Reference.module-LabelParent.type-t"><span class="UIDENT">LabelParent</span><span class="DOT">.</span><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="COMMA">,</span> <a href="#local_identifier_92"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Class</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_97"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_98"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_92"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ClassType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_97"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_98"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_92"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span> <span class="LBRACKET">[</span> <span class="STRING">&quot;class&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class-type&quot;</span> <span class="RBRACKET">]</span> <a href="#local_location_93"><span class="LIDENT">location</span></a> <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="EOL">
</span>        <span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_label_parent_99"><span class="LIDENT">label_parent</span></span> <span class="LPAREN">(</span><span id="local_kind_100"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_identifier_101"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_102"><span class="LIDENT">location</span></span><span class="RPAREN">)</span> <span id="local_tokens_103"><span class="LIDENT">tokens</span></span> <span class="COLON">:</span> <a href="paths.ml.html#module-Reference.module-LabelParent.type-t"><span class="UIDENT">LabelParent</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_104"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span> <span class="LIDENT">match_reference_kind</span> <a href="#local_location_102"><span class="LIDENT">location</span></a> <a href="#local_kind_100"><span class="LIDENT">kind</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_tokens_103"><span class="LIDENT">tokens</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_104"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="LPAREN">(</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TPage</span> <span class="RPAREN">)</span> <span class="AS">as</span> <span id="local_kind_105"><span class="LIDENT">kind</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_kind_105"><span class="LIDENT">kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span><span class="EOL">
</span>              <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class-type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;page&quot;</span> <span class="RBRACKET">]</span><span class="EOL">
</span>              <a href="#local_location_102"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_next_token_106"><span class="LIDENT">next_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_107"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_104"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><a href="#local_label_parent_99"><span class="LIDENT">label_parent</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Module</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ModuleType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Type</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">TypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Class</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ClassType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_106"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_107"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_101"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LIDENT">expected</span><span class="EOL">
</span>              <span class="LBRACKET">[</span> <span class="STRING">&quot;module&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;module-type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;type&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class&quot;</span><span class="SEMI">;</span> <span class="STRING">&quot;class-type&quot;</span> <span class="RBRACKET">]</span><span class="EOL">
</span>              <a href="#local_location_102"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_start_from_last_component_108"><span class="LIDENT">start_from_last_component</span></span> <span class="LPAREN">(</span><span id="local_kind_109"><span class="LIDENT">kind</span></span><span class="COMMA">,</span> <span id="local_identifier_110"><span class="LIDENT">identifier</span></span><span class="COMMA">,</span> <span id="local_location_111"><span class="LIDENT">location</span></span><span class="RPAREN">)</span> <span id="local_old_kind_112"><span class="LIDENT">old_kind</span></span> <span id="local_tokens_113"><span class="LIDENT">tokens</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_new_kind_114"><span class="LIDENT">new_kind</span></span> <span class="EQUAL">=</span> <span class="LIDENT">match_reference_kind</span> <a href="#local_location_111"><span class="LIDENT">location</span></a> <a href="#local_kind_109"><span class="LIDENT">kind</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_kind_115"><span class="LIDENT">kind</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_old_kind_112"><span class="LIDENT">old_kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_new_kind_114"><span class="LIDENT">new_kind</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="LPAREN">(</span><span id="local_old_kind_string_116"><span class="LIDENT">old_kind_string</span></span><span class="COMMA">,</span> <span id="local_old_kind_location_117"><span class="LIDENT">old_kind_location</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_old_kind_118"><span class="LIDENT">old_kind</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="LIDENT">match_reference_kind</span> <a href="#local_old_kind_location_117"><span class="LIDENT">old_kind_location</span></a> <span class="LPAREN">(</span><span class="UIDENT">Some</span> <a href="#local_old_kind_string_116"><span class="LIDENT">old_kind_string</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="MATCH">match</span> <a href="#local_new_kind_114"><span class="LIDENT">new_kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_old_kind_118"><span class="LIDENT">old_kind</span></a><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="LPAREN">(</span><span class="IF">if</span> <a href="#local_old_kind_118"><span class="LIDENT">old_kind</span></a> <span class="INFIXOP0">&lt;&gt;</span> <a href="#local_new_kind_114"><span class="LIDENT">new_kind</span></a> <span class="THEN">then</span><span class="EOL">
</span>                 <span class="LET">let</span> <span id="local_new_kind_string_119"><span class="LIDENT">new_kind_string</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>                   <span class="MATCH">match</span> <a href="#local_kind_109"><span class="LIDENT">kind</span></a> <span class="WITH">with</span> <span class="UIDENT">Some</span> <span id="local_s_120"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_s_120"><span class="LIDENT">s</span></a> <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>                 <span class="IN">in</span><span class="EOL">
</span>                 <span class="LIDENT">reference_kinds_do_not_match</span> <a href="#local_old_kind_string_116"><span class="LIDENT">old_kind_string</span></a> <a href="#local_new_kind_string_119"><span class="LIDENT">new_kind_string</span></a><span class="EOL">
</span>                   <a href="#local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></a><span class="EOL">
</span>                 <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_warning"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_warning</span></a><span class="RPAREN">)</span><span class="SEMI">;</span><span class="EOL">
</span>              <a href="#local_new_kind_114"><span class="LIDENT">new_kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_tokens_113"><span class="LIDENT">tokens</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="COMMA">,</span> <a href="#local_kind_115"><span class="LIDENT">kind</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_next_token_121"><span class="LIDENT">next_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_122"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_kind_115"><span class="LIDENT">kind</span></a> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="MINUSGREATER">-&gt;</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><a href="#local_label_parent_99"><span class="LIDENT">label_parent</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Module</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModuleType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ModuleType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ModuleTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Type</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">TypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TConstructor</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Constructor</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_parent_81"><span class="LIDENT">parent</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">ConstructorName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TField</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Field</span> <span class="LPAREN">(</span><a href="#local_parent_81"><span class="LIDENT">parent</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">FieldName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TExtension</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Extension</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">ExtensionName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TExtensionDecl</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ExtensionDecl</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">ExtensionName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TException</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Exception</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">ExceptionName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TValue</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Value</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ValueName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClass</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Class</span> <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TClassType</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">ClassType</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_signature_72"><span class="LIDENT">signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-Name.val-make_std"><span class="UIDENT">ClassTypeName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TMethod</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Method</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_class_signature_90"><span class="LIDENT">class_signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">MethodName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TInstanceVariable</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">InstanceVariable</span><span class="EOL">
</span>              <span class="LPAREN">(</span> <a href="#local_class_signature_90"><span class="LIDENT">class_signature</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span><span class="EOL">
</span>                <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">InstanceVariableName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a> <span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TLabel</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="BACKQUOTE">`</span><span class="UIDENT">Label</span><span class="EOL">
</span>              <span class="LPAREN">(</span><a href="#local_label_parent_99"><span class="LIDENT">label_parent</span></a> <a href="#local_next_token_121"><span class="LIDENT">next_token</span></a> <a href="#local_tokens_122"><span class="LIDENT">tokens</span></a><span class="COMMA">,</span> <a href="names.ml.html#module-SimpleName.val-make_std"><span class="UIDENT">LabelName</span><span class="DOT">.</span><span class="LIDENT">make_std</span></a> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TChildPage</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TChildModule</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_suggestion_123"><span class="LIDENT">suggestion</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="UIDENT">Printf</span><span class="DOT">.</span><span class="LIDENT">sprintf</span> <span class="STRING">&quot;'child-%s' should be first.&quot;</span> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <span class="LIDENT">not_allowed</span> <span class="LABEL">~what:</span><span class="STRING">&quot;Child label&quot;</span><span class="EOL">
</span>              <span class="LABEL">~in_what:</span><span class="STRING">&quot;the last component of a reference path&quot;</span> <span class="TILDE">~</span><a href="#local_suggestion_123"><span class="LIDENT">suggestion</span></a><span class="EOL">
</span>              <a href="#local_location_111"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TPage</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_suggestion_124"><span class="LIDENT">suggestion</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="UIDENT">Printf</span><span class="DOT">.</span><span class="LIDENT">sprintf</span> <span class="STRING">&quot;'page-%s' should be first.&quot;</span> <a href="#local_identifier_110"><span class="LIDENT">identifier</span></a><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <span class="LIDENT">not_allowed</span> <span class="LABEL">~what:</span><span class="STRING">&quot;Page label&quot;</span><span class="EOL">
</span>              <span class="LABEL">~in_what:</span><span class="STRING">&quot;the last component of a reference path&quot;</span> <span class="TILDE">~</span><a href="#local_suggestion_124"><span class="LIDENT">suggestion</span></a><span class="EOL">
</span>              <a href="#local_location_111"><span class="LIDENT">location</span></a><span class="EOL">
</span>            <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_old_kind_125"><span class="LIDENT">old_kind</span></span><span class="COMMA">,</span> <span id="local_s_126"><span class="LIDENT">s</span></span><span class="COMMA">,</span> <span id="local_location_127"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_find_old_reference_kind_separator_128"><span class="LIDENT">find_old_reference_kind_separator</span></span> <span id="local_index_129"><span class="LIDENT">index</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_s_71"><span class="LIDENT">s</span></a><span class="DOT">.</span><span class="LBRACKET">[</span><a href="#local_index_129"><span class="LIDENT">index</span></a><span class="RBRACKET">]</span> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="CHAR">':'</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_index_129"><span class="LIDENT">index</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="CHAR">')'</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>          <span class="MATCH">match</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">rindex_from</span> <a href="#local_s_71"><span class="LIDENT">s</span></a> <a href="#local_index_129"><span class="LIDENT">index</span></a> <span class="CHAR">'('</span> <span class="WITH">with</span><span class="EOL">
</span>          <span class="BAR">|</span> <span id="local_index_130"><span class="LIDENT">index</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_find_old_reference_kind_separator_128"><span class="LIDENT">find_old_reference_kind_separator</span></a> <span class="LPAREN">(</span><a href="#local_index_130"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="EXCEPTION">exception</span> <span class="LPAREN">(</span><span class="UIDENT">Not_found</span> <span class="AS">as</span> <span id="local_exn_131"><span class="LIDENT">exn</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">raise</span> <a href="#local_exn_131"><span class="LIDENT">exn</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_find_old_reference_kind_separator_128"><span class="LIDENT">find_old_reference_kind_separator</span></a> <span class="LPAREN">(</span><a href="#local_index_129"><span class="LIDENT">index</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="EXCEPTION">exception</span> <span class="UIDENT">Invalid_argument</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">raise</span> <span class="UIDENT">Not_found</span><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_find_old_reference_kind_separator_128"><span class="LIDENT">find_old_reference_kind_separator</span></a> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_s_71"><span class="LIDENT">s</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_index_132"><span class="LIDENT">index</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_old_kind_133"><span class="LIDENT">old_kind</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">trim</span> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_71"><span class="LIDENT">s</span></a> <span class="INT">0</span> <a href="#local_index_132"><span class="LIDENT">index</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_old_kind_location_134"><span class="LIDENT">old_kind_location</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>          <a href="location_.ml.html#val-set_end_as_offset_from_start"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">set_end_as_offset_from_start</span></a> <a href="#local_index_132"><span class="LIDENT">index</span></a> <a href="#local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></a><span class="EOL">
</span>        <span class="IN">in</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_s_135"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_71"><span class="LIDENT">s</span></a> <span class="LPAREN">(</span><a href="#local_index_132"><span class="LIDENT">index</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_s_71"><span class="LIDENT">s</span></a> <span class="MINUS">-</span> <span class="LPAREN">(</span><a href="#local_index_132"><span class="LIDENT">index</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_location_136"><span class="LIDENT">location</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>          <a href="../parser/loc.ml.html#val-nudge_start"><span class="UIDENT">Location_</span><span class="DOT">.</span><span class="LIDENT">nudge_start</span></a> <span class="LPAREN">(</span><a href="#local_index_132"><span class="LIDENT">index</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></a><span class="EOL">
</span>        <span class="IN">in</span><span class="EOL">
</span>        <span class="LPAREN">(</span><span class="UIDENT">Some</span> <span class="LPAREN">(</span><a href="#local_old_kind_133"><span class="LIDENT">old_kind</span></a><span class="COMMA">,</span> <a href="#local_old_kind_location_134"><span class="LIDENT">old_kind_location</span></a><span class="RPAREN">)</span><span class="COMMA">,</span> <a href="#local_s_135"><span class="LIDENT">s</span></a><span class="COMMA">,</span> <a href="#local_location_136"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="EXCEPTION">exception</span> <span class="UIDENT">Not_found</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="UIDENT">None</span><span class="COMMA">,</span> <a href="#local_s_71"><span class="LIDENT">s</span></a><span class="COMMA">,</span> <a href="#local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span><span class="EOL">
</span>  <a href="error.ml.html#val-catch_errors_and_warnings"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">catch_errors_and_warnings</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="MATCH">match</span> <span class="LIDENT">tokenize</span> <a href="#local_location_127"><span class="LIDENT">location</span></a> <a href="#local_s_126"><span class="LIDENT">s</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span id="local_last_token_137"><span class="LIDENT">last_token</span></span> <span class="COLONCOLON">::</span> <span id="local_tokens_138"><span class="LIDENT">tokens</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <a href="#local_start_from_last_component_108"><span class="LIDENT">start_from_last_component</span></a> <a href="#local_last_token_137"><span class="LIDENT">last_token</span></a> <a href="#local_old_kind_125"><span class="LIDENT">old_kind</span></a> <a href="#local_tokens_138"><span class="LIDENT">tokens</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LIDENT">should_not_be_empty</span> <span class="LABEL">~what:</span><span class="STRING">&quot;Reference target&quot;</span> <a href="#local_whole_reference_location_70"><span class="LIDENT">whole_reference_location</span></a><span class="EOL">
</span>          <span class="INFIXOP0">|&gt;</span> <a href="error.ml.html#val-raise_exception"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_exception</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span id="type-path"><span class="TYPE">type</span> <span class="LIDENT">path</span> <span class="EQUAL">=</span> <span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="OF">of</span> <span class="LIDENT">string</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="OF">of</span> <a href="paths.ml.html#module-Path.module-Module.type-t"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Path</span><span class="DOT">.</span><span class="UIDENT">Module</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="STAR">*</span> <span class="LIDENT">string</span> <span class="RBRACKET">]</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-read_path_longident"><span class="LIDENT">read_path_longident</span></span> <span id="local_location_139"><span class="LIDENT">location</span></span> <span id="local_s_140"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="OPEN">open</span> <a href="paths.ml.html#module-Path"><span class="UIDENT">Paths</span><span class="DOT">.</span><span class="UIDENT">Path</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_loop_141"><span class="LIDENT">loop</span></span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">path</span> <span class="LIDENT">option</span> <span class="EQUAL">=</span><span class="EOL">
</span>   <span class="FUN">fun</span> <span id="local_s_142"><span class="LIDENT">s</span></span> <span id="local_pos_143"><span class="LIDENT">pos</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>    <span class="TRY">try</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_idx_144"><span class="LIDENT">idx</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">rindex_from</span> <a href="#local_s_142"><span class="LIDENT">s</span></a> <a href="#local_pos_143"><span class="LIDENT">pos</span></a> <span class="CHAR">'.'</span> <span class="IN">in</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_name_145"><span class="LIDENT">name</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_142"><span class="LIDENT">s</span></a> <span class="LPAREN">(</span><a href="#local_idx_144"><span class="LIDENT">idx</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="#local_pos_143"><span class="LIDENT">pos</span></a> <span class="MINUS">-</span> <a href="#local_idx_144"><span class="LIDENT">idx</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_name_145"><span class="LIDENT">name</span></a> <span class="EQUAL">=</span> <span class="INT">0</span> <span class="THEN">then</span> <span class="UIDENT">None</span><span class="EOL">
</span>      <span class="ELSE">else</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_loop_141"><span class="LIDENT">loop</span></a> <a href="#local_s_142"><span class="LIDENT">s</span></a> <span class="LPAREN">(</span><a href="#local_idx_144"><span class="LIDENT">idx</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">None</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Some</span> <span id="local_parent_146"><span class="LIDENT">parent</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Some</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_parent_146"><span class="LIDENT">parent</span></a> <span class="COLONGREATER">:&gt;</span> <a href="paths.ml.html#module-Path.module-Module.type-t"><span class="UIDENT">Module</span><span class="DOT">.</span><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="COMMA">,</span> <a href="#local_name_145"><span class="LIDENT">name</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="WITH">with</span> <span class="UIDENT">Not_found</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_name_147"><span class="LIDENT">name</span></span> <span class="EQUAL">=</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">sub</span> <a href="#local_s_142"><span class="LIDENT">s</span></a> <span class="INT">0</span> <span class="LPAREN">(</span><a href="#local_pos_143"><span class="LIDENT">pos</span></a> <span class="PLUS">+</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_name_147"><span class="LIDENT">name</span></a> <span class="EQUAL">=</span> <span class="INT">0</span> <span class="THEN">then</span> <span class="UIDENT">None</span> <span class="ELSE">else</span> <span class="UIDENT">Some</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <a href="#local_name_147"><span class="LIDENT">name</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <a href="error.ml.html#val-catch_warnings"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">catch_warnings</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_loop_141"><span class="LIDENT">loop</span></a> <a href="#local_s_140"><span class="LIDENT">s</span></a> <span class="LPAREN">(</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span> <a href="#local_s_140"><span class="LIDENT">s</span></a> <span class="MINUS">-</span> <span class="INT">1</span><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Some</span> <span id="local_r_148"><span class="LIDENT">r</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Result</span><span class="DOT">.</span><span class="UIDENT">Ok</span> <span class="LPAREN">(</span><a href="#local_r_148"><span class="LIDENT">r</span></a> <span class="COLONGREATER">:&gt;</span> <span class="LIDENT">path</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Result</span><span class="DOT">.</span><span class="UIDENT">Error</span> <span class="LPAREN">(</span><span class="LIDENT">expected_err</span> <span class="STRING">&quot;a valid path&quot;</span> <a href="#local_location_139"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-read_mod_longident"><span class="LIDENT">read_mod_longident</span></span> <span id="local_location_149"><span class="LIDENT">location</span></span> <span id="local_lid_150"><span class="LIDENT">lid</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <a href="error.ml.html#val-catch_warnings"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">catch_warnings</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="error.ml.html#val-raise_warnings"><span class="UIDENT">Error</span><span class="DOT">.</span><span class="LIDENT">raise_warnings</span></a> <span class="LPAREN">(</span><span class="LIDENT">parse</span> <a href="#local_location_149"><span class="LIDENT">location</span></a> <a href="#local_lid_150"><span class="LIDENT">lid</span></a><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Error</span> <span class="UNDERSCORE">_</span> <span class="AS">as</span> <span id="local_e_151"><span class="LIDENT">e</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_e_151"><span class="LIDENT">e</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Ok</span> <span id="local_p_152"><span class="LIDENT">p</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>          <span class="MATCH">match</span> <a href="#local_p_152"><span class="LIDENT">p</span></a> <span class="WITH">with</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">Root</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">TUnknown</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">TModule</span><span class="RPAREN">)</span><span class="RPAREN">)</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Dot</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="RPAREN">)</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Module</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>            <span class="AS">as</span> <span id="local_r_153"><span class="LIDENT">r</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="UIDENT">Result</span><span class="DOT">.</span><span class="UIDENT">Ok</span> <a href="#local_r_153"><span class="LIDENT">r</span></a><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Result</span><span class="DOT">.</span><span class="UIDENT">Error</span> <span class="LPAREN">(</span><span class="LIDENT">expected_err</span> <span class="STRING">&quot;a reference to a module&quot;</span> <a href="#local_location_149"><span class="LIDENT">location</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span></span></code></pre></body></html>
